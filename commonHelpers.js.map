{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotos = searchValue => {\n  const urlParams = new URLSearchParams({\n    key: '45645042-c9b2fc3a6d24b970e9e620bb9',\n    q: searchValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n  return fetch(`${BASE_URL}?${urlParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};","const galleryList = document.querySelector('.gallery-list');\n\nexport const greateCards = imgInfo => {\n  const imgValues = imgInfo\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\">\n            <div class=\"gallery-image-stats\">\n            <ul class=\"gallery-image-stats-list\">\n              <li class=\"gallery-image-stats-item\">\n                <p class=\"gallery-image-stats-title\">Likes</p>\n                <p class=\"gallery-image-stats-text\">${likes}</p>\n              </li>\n              <li class=\"gallery-image-stats-item\">\n                <p class=\"gallery-image-stats-title\">Views</p>\n                <p class=\"gallery-image-stats-text\">${views}</p>\n              </li>\n              <li class=\"gallery-image-stats-item\">\n                <p class=\"gallery-image-stats-title\">Comments</p>\n                <p class=\"gallery-image-stats-text\">${comments}</p>\n              </li>\n              <li class=\"gallery-image-stats-item\">\n                <p class=\"gallery-image-stats-title\">Downloads</p>\n                <p class=\"gallery-image-stats-text\">${downloads}</p>\n              </li>\n            </ul>\n          </div>\n        </a>\n      </li>`;\n      }\n    )\n    .join('');\n  galleryList.insertAdjacentHTML('beforeend', imgValues);\n};","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport { fetchPhotos } from './js/pixabay-api';\nimport { greateCards } from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst galleryList = document.querySelector('.gallery-list');\nconst loader = document.querySelector('.loader');\nconst lightBox = new SimpleLightbox('.gallery-list a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  overlayOpacity: 0.8,\n});\n\nconst onSearchSubmit = e => {\n  e.preventDefault();\n  loader.classList.remove('hidden');\n  const value = e.target.elements.inputField.value.toLowerCase().trim();\n  if (!value) {\n    iziToast.error({\n      title: 'Error',\n      message: 'You need to type something on field!',\n      position: 'topRight',\n    });\n    loader.classList.add('hidden');\n    return;\n  }\n  fetchPhotos(value)\n    .then(img => {\n      if (img.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        loader.classList.add('hidden');\n        return;\n      } else {\n        greateCards(img.hits);\n        lightBox.refresh();\n        loader.classList.add('hidden');\n      }\n    })\n    .catch(err => {\n      iziToast.error({\n        message: `There is an Error ${err}. Try again!`,\n        position: 'topRight',\n      });\n    });\n  form.reset();\n};\n\nform.addEventListener('submit', onSearchSubmit);"],"names":["BASE_URL","fetchPhotos","searchValue","urlParams","response","galleryList","greateCards","imgInfo","imgValues","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","loader","lightBox","SimpleLightbox","onSearchSubmit","e","value","iziToast","img","err"],"mappings":"6vBAAA,MAAMA,EAAW,2BAEJC,EAAcC,GAAe,CACxC,MAAMC,EAAY,IAAI,gBAAgB,CACpC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACD,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAS,EAAE,EAAE,KAAKC,GAAY,CACxD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,EChBMC,EAAc,SAAS,cAAc,eAAe,EAE7CC,EAAcC,GAAW,CACpC,MAAMC,EAAYD,EACf,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,wCACyBL,CAAa;AAAA,4CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,sDAKhBC,CAAK;AAAA;AAAA;AAAA;AAAA,sDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,sDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,YAO1D,EACA,KAAK,EAAE,EACVV,EAAY,mBAAmB,YAAaG,CAAS,CACvD,ECtCMQ,EAAO,SAAS,cAAc,OAAO,EACvB,SAAS,cAAc,eAAe,EAC1D,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,IAAIC,EAAe,kBAAmB,CACrD,aAAc,MACd,aAAc,IACd,eAAgB,EAClB,CAAC,EAEKC,EAAiBC,GAAK,CAC1BA,EAAE,eAAc,EAChBJ,EAAO,UAAU,OAAO,QAAQ,EAChC,MAAMK,EAAQD,EAAE,OAAO,SAAS,WAAW,MAAM,cAAc,OAC/D,GAAI,CAACC,EAAO,CACVC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,uCACT,SAAU,UAChB,CAAK,EACDN,EAAO,UAAU,IAAI,QAAQ,EAC7B,MACD,CACDhB,EAAYqB,CAAK,EACd,KAAKE,GAAO,CACX,GAAIA,EAAI,KAAK,SAAW,EAAG,CACzBD,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACDN,EAAO,UAAU,IAAI,QAAQ,EAC7B,MACR,MACQX,EAAYkB,EAAI,IAAI,EACpBN,EAAS,QAAO,EAChBD,EAAO,UAAU,IAAI,QAAQ,CAErC,CAAK,EACA,MAAMQ,GAAO,CACZF,EAAS,MAAM,CACb,QAAS,qBAAqBE,CAAG,eACjC,SAAU,UAClB,CAAO,CACP,CAAK,EACHT,EAAK,MAAK,CACZ,EAEAA,EAAK,iBAAiB,SAAUI,CAAc"}